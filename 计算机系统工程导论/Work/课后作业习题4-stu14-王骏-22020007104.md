# 第11章 作为总体的网络系统



- 姓名： 王骏
- 学号： 220 2000 7104

1、考虑一个提供可靠传输的TCP版本，它不包含任何拥塞控制机制。每个接收器向S发送累计ACK。接收方R收到序列号为x的ACK，表示接收到了（含x）的所有报文。

假设S没有重传任何数据包。根据这个ACK序列，下列哪些选项是可能发生的？（假设网络中除了指定的丢失或延迟之外没有其他丢失或延迟）

A 101、102、103、104、104、104、104、…

(a) 第105包丢失

(b) 105包延迟

(c) 序列号为105的ACK丢失

(d) 序列号为105的ACK延迟

(e) 以上皆非

> ```
> (a) 第 105 包丢失：接收方没有收到第 105 包，因此无法发送 ACK。
> (b) 第 105 包延迟：第 105 包还未到达接收方，因此接收方无法发送 ACK。
> (c) 序列号为 105 的 ACK 丢失：如果 ACK 丢失，发送方会继续看到 104 的 ACK。
> (d) 序列号为 105 的 ACK 延迟：ACK 延迟会导致发送方暂时未收到更新的 ACK。
> a、b、c、d 都可能发生。
> ```
>
> 
>

B 101、102、103、104、104、106、107、…

(a) 第105包丢失。

(b) 第105包延迟。

(c) 序列号为105的ACK丢失。

(d) 序列号为105的ACK延迟。

(e) 以上皆非。

```c
ACK 跳过了 105，直接从 104 跳到 106，表示接收方收到了第 106 包，但没有收到第 105 包。
(a) 第 105 包丢失：接收方未收到第 105 包，但收到了第 106 包，因此发送了 ACK 106。
(b) 第 105 包延迟：如果第 105 包延迟到达，接收方可能先收到第 106 包并发送 ACK。
(c) 序列号为 105 的 ACK 丢失：不可能，因为接收方没有收到第 105 包，无法发送 ACK。
(d) 序列号为 105 的 ACK 延迟：不可能，因为接收方没有收到第 105 包，无法发送 ACK。
a、b可能发生。
```

C 101、102、103、104、106、107、108、…

(a)第105包丢失。

(b) 105包延迟。

(c)序列号为105的ACK丢失。

(d)序列号为105的ACK被延迟。

(e)以上皆非。

```c
ACK 跳过了 105，直接从 104 跳到 106，且后续 ACK 正常递增，表示接收方完全跳过了第 105 包。
(a) 第 105 包丢失：接收方未收到第 105 包，因此直接处理第 106 包。
(b) 第 105 包延迟：如果第 105 包延迟到达，接收方可能先收到第 106 包并发送 ACK。
(c) 序列号为 105 的 ACK 丢失：不可能，因为接收方没有收到第 105 包，无法发送 ACK。
(d) 序列号为 105 的 ACK 延迟：不可能，因为接收方没有收到第 105 包，无法发送 ACK。
a、b可能发生。
```

2、一些网络协议通过提供两个不同的网络端口来处理大端和小端客户机。大端客户端向一个端口发送请求和数据，而小端客户端向另一个端口发送请求和数据。服务可以在大端机器上实现，也可以在小端机器上实现。这种方法是不寻常的——大多数互联网协议只需要一个网络端口，并要求所有数据在该端口以“网络标准形式”呈现，即小端格式。说明两端口结构与一般结构相比的优点。

两端口结构与一般结构相比的优点：

1. **减少数据转换的复杂性和开销**
   - 服务端无需对数据进行大端和小端格式的转换，直接根据端口处理对应格式的数据，简化了实现。
   - 避免了因格式转换可能引入的错误。
2. **提高性能**
   - 省去了格式转换的时间开销，尤其是在高性能场景下，直接处理原始格式数据更高效。
3. **兼容性更强**
   - 如果服务端运行在大端机器上，可以直接处理大端数据；如果运行在小端机器上，可以直接处理小端数据，无需额外的转换逻辑。
4. **便于调试和维护**
   - 两个端口分别处理不同格式的数据，逻辑清晰，便于定位问题。
   - 客户端和服务端的通信格式明确，减少了协议实现中的歧义。