# 构造抽象计算机系统

## 三个抽象对象

> 抽象
>
> 1. 目的：隐藏细节，限制交互
> 2. 方法：设计接口



### 3个抽象对象

1. 计算
2. 存储
3. 通信

各层面通用

语义	清晰

### 抽象对象之间的连接

交互： 名称交互 （使用**引用**）

命名是抽象模块的粘合剂（访问）

命名产生间接，比物理连接更多的灵活性：



## 3个基本抽象

1. ### 存储

   > 哪些存储设备/系统可以被抽象？
   >
   > - 基本存储设施
   > - 高层存储系统
   >
   > 抽象成了什么？
   >
   > - 写write( name , value)
   > - 读value <- read (name)
   >
   > 命名方式：地址/可读名
   >
   > 应该保持的性质：
   >
   > - 存储的重要性质
   >
   >   读写连贯
   >
   >   并发操作的隔离Before-or-After Atomicity : 不会因为互相影响而产生错误的结果
   >
   >   操作的原子性All-or-Nothing Atomicity

   破坏读写连贯 =》 时序错误

   破坏隔离 =》 并发+ 长存取时间 + 时序错误

   破坏原子性 =》 错误数据和状态

   解决方法： 读写协商  =》 读写一致；未完成的操作可撤退 =》 原子性

2. ### 解释器

   执行计算动作的部件： CPU/ OS /浏览器

   3个部件：

   1. 指令引用：找到下一个指令
   2. 指令集： 指令对应的行动
   3. 环境引用： 找到环境

   模式：一般采用 遵循程序顺序执行 的模式

3. ### 链路

   通信链路：提供信息在物理分隔的组件移动的途径

   > 双绞线、 光纤、 以太网、 USB 、 因特网、 UNIX管道

   可抽象为基本操作： send receive

   > 不抽象为存储操作？
   >
   > 通信：时间难预测，完整性难维持

   

## 命名与间接

命名： 对名称的创建和使用。

### 命名模型

命名方案3要素

1. ==名称空间==

2. ==名称映射算法：==

   绑定：建立关系

   解析：查名得值

3. ==值空间==

   value： 对象/另一个名称

### 解析

1. 上下文

   查到命名方案实例

2. 全局上下文方案

   URL

3. 接口原语



### 名称解析与上下文

1. 常用解析算法

   表查找 递归查找 多重查找

2. 上下文引用的提供

   缺省 显式

3. 路径名

4. 名称发现

   

## 计算机系统常见3层分层

1. 硬件层

   ==总线==

2. 操作系统层

3. 应用层

   软件层 -  ==文件==



## 最小惊讶原理

人是系统的一部分，设计应当匹配人的经验、期望和心智模型





















