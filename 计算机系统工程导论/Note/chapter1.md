



# 系统与复杂性

### 工程是什么

1. 设计和建造
2. 创造

### 系统是什么

1. 组件组织成整体，具备某些属性
2. 整体性思维方式

## 1.系统组成

1. 系统： 一组互相连接的组件,通过与环境的接口，做出期望行为
2. 组件：组成系统的部分
3. 环境：系统之外的事物
4. 接口：与环境的交互

## 2.系统共性问题

1.  涌现性Emergent properities：

   GPT

   Some things turn up only when a system is built.

2. 影响传播propagation of effects

   每个组件都会影响其他组件，导致预料之外的结果

   蝴蝶效应

   There are no small changes in a large system.

3. 不成比例规模效应incommensurate scaling

   规模变大，某些部件有不同的法则，系统失效

   老鼠大象需要不同架构

4. 权衡取舍trade-off

   冲突的目标和因素需要取舍 - 成本vs收益

   处理器主频-温度

### 计算机系统vs其他系统

计算机系统的困难不是来自物理定律/理论方法的限制

1. 来自人类理解的局限
2. 难以找到类比问题
3. 难以借鉴已有方法

计算机系统现状

1. 较少：系统共性问题和构造理论
2. 较多：个例设计

## 3.系统复杂性

**抽象**   应对复杂性

1. 复杂 = 难理解

2. 标志：

   **组件多** 

   **交互多** 

   **不规则 exceptions complicate understanding**

   **描述长 Kolmogorov complexity** 

   **人手多**

什么导致了复杂性：

1. 多功能

   变化/适应变化 

   复杂性提升原理：需求和复杂性提升不成比例

   避免过度通用原则： Good for everything = nothing

2. 高性能

   收益递减法则： 越提升越难

3. 其他属性

   可靠性

   一致性

   安全性

## 4.应对系统复杂性

功能模块化 = 模块化 + 抽象

增加可靠性： 鲁棒性原则 - 输入容忍，输出严格； 安全边界原则 - 远离悬崖

1. 模块化module： 分而治之

   > 结构化语言C rust   面向对象C++  C# Java 

   将系统分为子系统-模块

   **模块替换容易**

   **坚固地基法则**： 改变模块 比改变模块化结构 更简单

2. 抽象：隐藏细节

   当模块化方法不足以控制复杂度时

   如何控制影响传播：

   更少交互，更少传播；

   **规格（接口）与实现的相互独立**

3. 分层

   功能模块化的 减少交互特例

   低层模块构成高层模块

   每一层划分模块，模块只跟本层/相邻上下层交互

   > 操作系统 网络

4. 层级hierarchy

   模块化中的减少交互的特例，也是模块化的现实幸存状态



命名：为模块交互提供方向，提供了共享的能力

间接：间接支持可替换性

## 计算机系统特殊性

无限：计算机系统的复杂性不受物理法则限制

空前：计算机系统技术的变化率没有先例

1. 系统扩张没有上限

2. 技术爆炸增长：

   incommensurate scaling 不成比例增长法则：参数变化十倍，系统需要重新设计

3. 应对

   更多设计原则（不只是模块化 抽象 分层 层级）

   迭代设计：建立简单可行的系统，逐步演化

   > 迭代设计原则： 既然不能一次成功， 就使它易于修改

   KIS：Keep it simple

   > 彻底简化原则 ：彻底简化，然后可以看清一切



### 整体观

1. 并发
2. 分布、互联
3. 容错、防范攻击
4. 大量数据、用户







